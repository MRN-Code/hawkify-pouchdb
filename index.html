<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="%257B@link%2520https___github.com_hueniverse_hawk%257D%250A%257B@link%2520https___github.com_request_request_requestoptions-callback%257Dmodule_.html"><a href="https://github.com/hueniverse/hawk">https://github.com/hueniverse/hawk</a>
<a href="https://github.com/request/request#requestoptions-callback">https://github.com/request/request#requestoptions-callback</a></a></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>Hawkify PouchDB</h1><p><em>Make PouchDB HTTP requests use hawk authentication.</em></p>
<p>Sign your PouchDB requests with a <a href="https://www.npmjs.com/package/hawk">hawk</a> <code>Authorization</code> header. This plugin works in conjunction with <a href="https://github.com/MRN-Code/nodeapi">MRN-Code/nodeapi</a> and <a href="https://github.com/MRN-Code/coinstac-storage-proxy">MRN-Code/coinstac-storage-proxy</a> to ensure clients using PouchDB are authenticated.</p>
<h2>Installation</h2><p>Make sure you have <a href="https://nodejs.org/">Node.js</a> (<code>4.2.x</code> or greater) and NPM installed. To use <em>hawkify-pouchdb</em> in your project, run:</p>
<pre class="prettyprint source lang-shell"><code>npm install hawkify-pouchdb --save</code></pre><h2>Use</h2><p>This plugin works by altering PouchDB’s internal request system. <em>hawkify-pouchdb</em> exports a single function which expects two arguments:</p>
<ol>
<li><code>PouchDB</code>: The PouchDB constructor.</li>
<li><p><code>credentials</code>: A valid hawk credentials object with <code>algorithm</code>, <code>id</code> and <code>key</code> properties. Example:</p>
<pre class="prettyprint source lang-js"><code>{
 algorithm: 'sha256',
 id: 'abcdef',
 key: '1234567890',
}</code></pre><p>See <a href="https://github.com/hueniverse/hawk">hawk’s source code</a> for further documentation.</p>
</li>
</ol>
<h2>Example</h2><pre class="prettyprint source lang-js"><code>const PouchDB = require('pouchdb');
const hawkifyPouchDB = require('hawkify-pouchdb');
const myCredentials = {
  algorithm: 'sha256',
  id: 'abcdef',
  key: '1234567890',
};

hawkifyPouchDB(PouchDB, myCredentials);

const myDb = new PouchDB('http://localhost:5984/my-database/');

myDb.get('my-doc-id')
  .then(response => {
    // Request was valid
  })
  .catch(error => {
    // Error, potentially due to invalid credentials
  });</code></pre><h2>Development</h2><p>To work on <em>hawkify-pouchdb</em>, clone this repository and run <code>npm install</code> in the directory to install its dependencies.</p>
<ul>
<li><strong>Style:</strong> This plugin adheres to the <a href="https://github.com/airbnb/javascript">Airbnb JavaScript style guide</a> via <a href="http://eslint.org/">ESLint</a>. Run <code>npm run lint</code> to lint the files.</li>
<li><strong>Tests:</strong> This plugin uses <a href="https://www.npmjs.com/package/tape">tape</a> for testing. Run <code>npm test</code> to run the tests.</li>
</ul>
<h2>License</h2><p>MIT. See <a href="./LICENSE">LICENSE</a>.</p></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>